<!DOCTYPE html>
<!--[if lt IE 7]> <html class="no-js ie6" lang="en"> <![endif]-->
<!--[if IE 7]>    <html class="no-js ie7" lang="en"> <![endif]-->
<!--[if IE 8]>    <html class="no-js ie8" lang="en"> <![endif]-->
<!--[if gt IE 8]><!-->  <html class="no-js" lang="en"> <!--<![endif]-->
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	
	<title></title>
	
	<meta name="description" content="A jQuery library for modern HTML presentations">
	<meta name="viewport" content="width=1024, user-scalable=no">
	
	<!-- Core and extension CSS files -->
	<link rel="stylesheet" href="../deck.js/core/deck.core.css">
	<link rel="stylesheet" href="../deck.js/extensions/goto/deck.goto.css">
	<link rel="stylesheet" href="../deck.js/extensions/menu/deck.menu.css">
	<link rel="stylesheet" href="../deck.js/extensions/navigation/deck.navigation.css">
	<link rel="stylesheet" href="../deck.js/extensions/status/deck.status.css">
	<link rel="stylesheet" href="../deck.js/extensions/hash/deck.hash.css">
	<link rel="stylesheet" href="../css/syntax.css">
	
	<!-- Theme CSS files (menu swaps these out) -->
    <link rel="stylesheet" href="../font-awesome/css/font-awesome.css">
    
    
	<link rel="stylesheet" id="style-theme-link" href="../themes/style/spring.css">
	<link rel="stylesheet" id="transition-theme-link" href="../deck.js/themes/transition/horizontal-slide.css">
	
	<script src="../deck.js/modernizr.custom.js"></script>
</head>

<body class="deck-container">

<div class="slide" id="slide1"><h1 id="toc_0"><i class="icon-off"></i> Spring Boot</h1>

<p>Dave Syer, Phil Webb, 2013<br>
Twitter: <code>@david_syer</code>, <code>@phillip_webb</code><br>
Email: [dsyer, pwebb]@gopivotal.com</p>

<p>(Introduction to Spring Boot)</p>

</div><div class="slide" id="slide2"><h2></h2>

<p><img src="images/spring-io.png" alt="Spring IO"></p>

</div><div class="slide" id="slide3"><h2></h2>

<p><img src="images/spring-io-boot.png" alt="Spring IO Boot"></p>

</div><div class="slide" id="slide4"><h2 id="toc_1">Agenda</h2>

<ul>
<li>Quick overview of goals and high level features</li>
<li>Getting started demo</li>
<li>Application configuration with Spring Boot</li>
<li>Spring.IO website</li>
</ul>

</div><div class="slide" id="slide5"><h2 id="toc_2">Focus Attention</h2>

<p><img src="images/boot-focus.png" width="30%"></img></p>

</div><div class="slide" id="slide6"><h2 id="toc_3">Introduction</h2>

<p><i class="icon-off icon-3x"></i> Spring Boot:</p>

<ul>
<li>Focuses attention at a single point (as opposed to large collection
of <code>spring-*</code> projects)</li>
<li>A tool for getting started very quickly with Spring</li>
<li>Common non-functional requirements for a &quot;real&quot; application</li>
<li>Exposes a lot of useful features by default</li>
<li>Gets out of the way quickly if you want to change defaults</li>
</ul>

<blockquote>
<p>An opportunity for Spring to be opinionated</p>
</blockquote>

</div><div class="slide" id="slide7"><h2 id="toc_4">Getting Started <em>Really</em> Quickly</h2>
<div class="highlight"><pre><code class="groovy language-groovy" data-lang="groovy"><span class="nd">@RestController</span>
<span class="kd">class</span> <span class="nc">Example</span> <span class="o">{</span>

    <span class="nd">@RequestMapping</span><span class="o">(</span><span class="s2">&quot;/&quot;</span><span class="o">)</span>
    <span class="kd">public</span> <span class="n">String</span> <span class="nf">hello</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="s2">&quot;Hello World!&quot;</span><span class="o">;</span>
    <span class="o">}</span>

<span class="o">}</span>
</code></pre></div><div class="highlight"><pre><code class="text language-text" data-lang="text">$ spring run app.groovy
</code></pre></div>
<p><br/><br/>... application is running at <a href="http://localhost:8080">http://localhost:8080</a></p>

</div><div class="slide" id="slide8"><h2 id="toc_5">What Just Happened?</h2>
<div class="highlight"><pre><code class="groovy language-groovy" data-lang="groovy"><span class="c1">// import org.springframework.web.bind.annotation.RestController</span>
<span class="c1">// other imports ...</span>

<span class="nd">@RestController</span>
<span class="kd">class</span> <span class="nc">Example</span> <span class="o">{</span>

    <span class="nd">@RequestMapping</span><span class="o">(</span><span class="s2">&quot;/&quot;</span><span class="o">)</span>
    <span class="kd">public</span> <span class="n">String</span> <span class="nf">hello</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="s2">&quot;Hello World!&quot;</span><span class="o">;</span>
    <span class="o">}</span>

<span class="o">}</span>
</code></pre></div>
</div><div class="slide" id="slide9"><h2 id="toc_6">What Just Happened?</h2>
<div class="highlight"><pre><code class="groovy language-groovy" data-lang="groovy"><span class="c1">// import org.springframework.web.bind.annotation.RestController</span>
<span class="c1">// other imports ...</span>

<span class="c1">// @Grab(&quot;spring-boot-web-starter&quot;)</span>
<span class="nd">@RestController</span>
<span class="kd">class</span> <span class="nc">Example</span> <span class="o">{</span>

    <span class="nd">@RequestMapping</span><span class="o">(</span><span class="s2">&quot;/&quot;</span><span class="o">)</span>
    <span class="kd">public</span> <span class="n">String</span> <span class="nf">hello</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="s2">&quot;Hello World!&quot;</span><span class="o">;</span>
    <span class="o">}</span>

<span class="o">}</span>
</code></pre></div>
</div><div class="slide" id="slide10"><h2 id="toc_7">What Just Happened?</h2>
<div class="highlight"><pre><code class="groovy language-groovy" data-lang="groovy"><span class="c1">// import org.springframework.web.bind.annotation.RestController</span>
<span class="c1">// other imports ...</span>

<span class="c1">// @Grab(&quot;spring-boot-web-starter&quot;)</span>
<span class="c1">// @EnableAutoConfiguration</span>
<span class="nd">@RestController</span>
<span class="kd">class</span> <span class="nc">Example</span> <span class="o">{</span>

    <span class="nd">@RequestMapping</span><span class="o">(</span><span class="s2">&quot;/&quot;</span><span class="o">)</span>
    <span class="kd">public</span> <span class="n">String</span> <span class="nf">hello</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="s2">&quot;Hello World!&quot;</span><span class="o">;</span>
    <span class="o">}</span>

<span class="o">}</span>
</code></pre></div>
</div><div class="slide" id="slide11"><h2 id="toc_8">What Just Happened?</h2>
<div class="highlight"><pre><code class="groovy language-groovy" data-lang="groovy"><span class="c1">// import org.springframework.web.bind.annotation.RestController</span>
<span class="c1">// other imports ...</span>

<span class="c1">// @Grab(&quot;spring-boot-web-starter&quot;)</span>
<span class="c1">// @EnableAutoConfiguration</span>
<span class="nd">@RestController</span>
<span class="kd">class</span> <span class="nc">Example</span> <span class="o">{</span>

    <span class="nd">@RequestMapping</span><span class="o">(</span><span class="s2">&quot;/&quot;</span><span class="o">)</span>
    <span class="kd">public</span> <span class="n">String</span> <span class="nf">hello</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="s2">&quot;Hello World!&quot;</span><span class="o">;</span>
    <span class="o">}</span>

<span class="c1">//  public static void main(String[] args) {</span>
<span class="c1">//      SpringApplication.run(Example.class, args);</span>
<span class="c1">//  }</span>
<span class="o">}</span>
</code></pre></div>
</div><div class="slide" id="slide12"><h2 id="toc_9">Getting Started in Java</h2>
<div class="highlight"><pre><code class="java language-java" data-lang="java"><span class="kn">import</span> <span class="nn">org.springframework.boot.SpringApplication</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.boot.autoconfigure.EnableAutoConfiguration</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.context.annotation.*</span><span class="o">;</span>

<span class="nd">@RestController</span>
<span class="nd">@EnableAutoConfiguration</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">MyApplication</span> <span class="o">{</span>

  <span class="nd">@RequestMapping</span><span class="o">(</span><span class="s">&quot;/&quot;</span><span class="o">)</span>
  <span class="kd">public</span> <span class="n">String</span> <span class="nf">sayHello</span><span class="o">()</span> <span class="o">{</span>
    <span class="k">return</span> <span class="s">&quot;Hello World!&quot;</span><span class="o">;</span>
  <span class="o">}</span>

  <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">SpringApplication</span><span class="o">.</span><span class="na">run</span><span class="o">(</span><span class="n">MyApplication</span><span class="o">.</span><span class="na">class</span><span class="o">,</span> <span class="n">args</span><span class="o">);</span>
  <span class="o">}</span>

<span class="o">}</span>
</code></pre></div>
</div><div class="slide" id="slide13"><h2 id="toc_10">Starter POMs</h2>
<div class="highlight"><pre><code class="groovy language-groovy" data-lang="groovy"><span class="nd">@Grab</span><span class="o">(</span><span class="s1">&#39;spring-boot-starter-web&#39;</span><span class="o">)</span>
</code></pre></div>
<p>or</p>
<div class="highlight"><pre><code class="xml language-xml" data-lang="xml"><span class="nt">&lt;dependency&gt;</span>
  <span class="nt">&lt;groupId&gt;</span>org.springframework.boot<span class="nt">&lt;/groupId&gt;</span>
  <span class="nt">&lt;artifactId&gt;</span>spring-boot-starter-web<span class="nt">&lt;/artifactId&gt;</span>
<span class="nt">&lt;/dependency&gt;</span>
</code></pre></div>
<ul>
<li>Standard Maven POMs</li>
<li>Optional parent</li>
<li>Available for web, batch, integration, data</li>
<li>e.g. data = hibernate + spring-data + JSR 303</li>
</ul>

</div><div class="slide" id="slide14"><h2 id="toc_11">SpringApplication</h2>
<div class="highlight"><pre><code class="java language-java" data-lang="java"><span class="n">SpringApplication</span> <span class="n">app</span> <span class="o">=</span> <span class="k">new</span> <span class="n">SpringApplication</span><span class="o">(</span><span class="n">MyApplication</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
<span class="n">app</span><span class="o">.</span><span class="na">setShowBanner</span><span class="o">(</span><span class="kc">false</span><span class="o">);</span>
<span class="n">app</span><span class="o">.</span><span class="na">run</span><span class="o">(</span><span class="n">args</span><span class="o">);</span>
</code></pre></div>
<ul>
<li>Gets a running Spring <code>ApplicationContext</code></li>
<li>Uses <code>EmbeddedWebApplicationContext</code> for web apps</li>
<li>Can be a single line: <code>SpringApplication.run(MyApplication.class, args)</code></li>
<li>Or customized...</li>
</ul>

</div><div class="slide" id="slide15"><h2 id="toc_12">Not a Web Application?</h2>

<ul>
<li><code>CommandLineRunner</code> is a hook to run application-specific code after 
the context is created</li>
</ul>
<div class="highlight"><pre><code class="java language-java" data-lang="java"><span class="nd">@Component</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Startup</span> <span class="kd">implements</span> <span class="n">CommandLineRunner</span> <span class="o">{</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">run</span><span class="o">(</span><span class="n">String</span><span class="o">...</span> <span class="n">args</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">Exception</span> <span class="o">{</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&quot;Hello World&quot;</span><span class="o">);</span>
    <span class="o">}</span>

<span class="o">}</span>
</code></pre></div>
</div><div class="slide" id="slide16"><h2 id="toc_13">Currently Available Autoconfigured Behaviour</h2>

<ul>
<li>Embedded servlet container (Tomcat or Jetty)</li>
<li>JDBC: <code>DataSource</code> and <code>JdbcTemplate</code></li>
<li>JPA, JMS, AMQP (Rabbit), AOP</li>
<li>Websocket</li>
<li>Spring Data JPA (scan for repositories) and Mongodb</li>
<li>Thymeleaf</li>
<li>Mobile</li>
<li>Batch processing</li>
<li>Reactor for events and async processing</li>
<li>Actuator features (Security, Audit, Metrics, Trace)</li>
</ul>

<p><em>Please open an issue on github if you want support for something else</em></p>

</div><div class="slide" id="slide17"><h2 id="toc_14">SpringApplicationBuilder</h2>

<p>Flexible builder style with fluent API for building
<code>SpringApplication</code> with more complex requirements.</p>
<div class="highlight"><pre><code class="java language-java" data-lang="java"><span class="k">new</span> <span class="nf">SpringApplicationBuilder</span><span class="o">(</span><span class="n">ParentConfiguration</span><span class="o">.</span><span class="na">class</span><span class="o">)</span>
    <span class="o">.</span><span class="na">profiles</span><span class="o">(</span><span class="s">&quot;adminServer&quot;</span><span class="o">,</span> <span class="s">&quot;single&quot;</span><span class="o">)</span>
    <span class="o">.</span><span class="na">child</span><span class="o">(</span><span class="n">AdminServerApplication</span><span class="o">.</span><span class="na">class</span><span class="o">)</span>
    <span class="o">.</span><span class="na">run</span><span class="o">(</span><span class="n">args</span><span class="o">);</span>
</code></pre></div>
</div><div class="slide" id="slide18"><h2 id="toc_15">Environment and Profiles</h2>

<ul>
<li>Every <code>ApplicationContext</code> has an <code>Environment</code></li>
<li>Spring <code>Environment</code> available since 3.1</li>
<li>Abstraction for key/value pairs from multiple sources</li>
<li>Used to manage <code>@Profile</code> switching</li>
<li>Always available: <code>System</code> properties and OS <code>ENV</code> vars</li>
</ul>

</div><div class="slide" id="slide19"><h2 id="toc_16">Externalizing Configuration to Properties</h2>

<p>Just put <code>application.properties</code> in your classpath or next to you jar, e.g.</p>

<p><code>application.properties</code></p>
<div class="highlight"><pre><code class="properties language-properties" data-lang="properties"><span class="na">server.port</span><span class="o">:</span> <span class="s">9000</span>
</code></pre></div>
<p>Properties can be overridden (<code>command line arg</code> &gt; <code>file</code> &gt; <code>classpath</code>)</p>

</div><div class="slide" id="slide20"><h2 id="toc_17">Binding Configuration To Beans</h2>

<p><code>MyProperties.java</code></p>
<div class="highlight"><pre><code class="java language-java" data-lang="java"><span class="nd">@ConfigurationProperties</span><span class="o">(</span><span class="n">prefix</span><span class="o">=</span><span class="s">&quot;mine&quot;</span><span class="o">)</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">MyPoperties</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="n">Resource</span> <span class="n">location</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kt">boolean</span> <span class="n">skip</span> <span class="o">=</span> <span class="kc">true</span><span class="o">;</span>
    <span class="c1">// ... getters and setters</span>
<span class="o">}</span>
</code></pre></div>
<p><code>application.properties</code></p>
<div class="highlight"><pre><code class="properties language-properties" data-lang="properties"><span class="na">mine.location</span><span class="o">:</span> <span class="s">classpath:mine.xml</span>
<span class="na">mine.skip</span><span class="o">:</span> <span class="s">false</span>
</code></pre></div>
</div><div class="slide" id="slide21"><h2 id="toc_18">Packaging For Production</h2>
<div class="highlight"><pre><code class="sh language-sh" data-lang="sh"><span class="nv">$ </span>spring run *.groovy
</code></pre></div>
<p>or</p>
<div class="highlight"><pre><code class="sh language-sh" data-lang="sh"><span class="nv">$ </span>java -jar yourapp.jar
</code></pre></div>
<ul>
<li>Easy to understand structure</li>
<li>No unpacking or start scripts required</li>
<li>Typical REST app ~10Mb</li>
<li>Cloud Foundry friendly (works out of box &amp; fast to upload)</li>
</ul>

</div><div class="slide" id="slide22"><h2 id="toc_19">Spring Boot Modules</h2>

<ul>
<li>Spring Boot - main library supporting the other parts of Spring Boot</li>
<li>Spring Boot Autoconfigure - single <code>@EnableAutoConfiguration</code>
annotation creates a whole Spring context</li>
<li>Spring Boot Starters - a set of convenient dependency descriptors
that you can include in your application.</li>
<li>Spring Boot CLI - compiles and runs Groovy source as a Spring
application</li>
<li>Spring Boot Actuator - common non-functional features that make an
app instantly deployable and supportable in production</li>
<li>Spring Boot Tools - for building and executing self-contained JAR
and WAR archives</li>
<li>Spring Boot Samples - a wide range of sample apps</li>
</ul>

</div><div class="slide" id="slide23"><h2 id="toc_20">Spring Boot Module Relations</h2>

<p><img src="images/boot-modules.png" alt="Spring Boot Modules"></p>

</div><div class="slide" id="slide24"><h2 id="toc_21">The Actuator</h2>
<div class="highlight"><pre><code class="groovy language-groovy" data-lang="groovy"><span class="nd">@Grab</span><span class="o">(</span><span class="s1">&#39;spring-boot-starter-actuator&#39;</span><span class="o">)</span>
</code></pre></div>
<p>Adds common non-functional features to your application and exposes
MVC endpoints to interact with them.</p>

<ul>
<li>Security</li>
<li>Secure endpoints: <code>/metrics</code>, <code>/health</code>, <code>/trace</code>, <code>/dump</code>, <code>/shutdown</code>, <code>/beans</code>, <code>/env</code></li>
<li><code>/info</code></li>
<li>Audit</li>
</ul>

<p>If embedded in a web app or web service can use the same port or a
different one (<code>management.port</code>) and/or a different network interface
(<code>management.address</code>) and/or context path (<code>management.context_path</code>).</p>

</div><div class="slide" id="slide25"><h2 id="toc_22">Spring.IO Website</h2>

<ul>
<li><a href="http://spring.io">http://spring.io</a></li>
<li>Project by Pivotal Labs London, 2013</li>
<li>Source code (not yet public) <a href="https://github.com/spring-io/spring.io">https://github.com/spring-io/spring.io</a></li>
</ul>

</div><div class="slide" id="slide26"><h2 id="toc_23">Links</h2>

<ul>
<li><a href="http://projects.spring.io/spring-boot">http://projects.spring.io/spring-boot</a> Documentation</li>
<li><a href="https://github.com/spring-projects/spring-boot">https://github.com/spring-projects/spring-boot</a> Spring Boot on Github</li>
<li><a href="http://spring.io/blog">http://spring.io/blog</a></li>
<li><a href="http://dsyer.com/presos/decks/spring-boot-intro.html">http://dsyer.com/presos/decks/spring-boot-intro.html</a></li>
<li>Twitter: <code>@david_syer</code>, <code>@phillip_webb</code> </li>
<li>Email: <a href="mailto:dsyer@gopivotal.com">dsyer@gopivotal.com</a>, <a href="mailto:pwebb@gopivotal.com">pwebb@gopivotal.com</a></li>
</ul>

</div><div class="slide" id="slide27"><h2></h2>

<div id="center">
<div><i class="icon-smile icon-4x"></i> Spring Boot Intro - END <i class="icon-off icon-rotate-90 icon-4x"></i></div>
</div>
</div>


<a href="#" class="deck-prev-link" title="Previous">&#8592;</a>
<a href="#" class="deck-next-link" title="Next">&#8594;</a>

<p id="footer" class="deck-status">
	<span class="deck-status-current"></span>/<span class="deck-status-total"></span>
</p>

<form action="." method="get" class="goto-form">
	<label for="goto-slide">Go to slide:</label>
	<input type="number" name="slidenum" id="goto-slide">
	<input type="submit" value="Go">
</form>

<a href="." title="Permalink to this slide" class="deck-permalink">#</a>

<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.6.1/jquery.js"></script>
<script>window.jQuery || document.write('<script src="../deck.js/jquery.min.js"><\/script>')</script>

<!-- Deck Core and extensions -->
<script src="../deck.js/core/deck.core.js"></script>
<script src="../deck.js/extensions/menu/deck.menu.js"></script>
<script src="../deck.js/extensions/goto/deck.goto.js"></script>
<script src="../deck.js/extensions/status/deck.status.js"></script>
<script src="../deck.js/extensions/navigation/deck.navigation.js"></script>
<script src="../deck.js/extensions/hash/deck.hash.js"></script>

<script type="text/javascript">
$(function() {
	// Deck initialization
	$.deck('.slide');
	
	$('#style-themes').change(function() {
		$('#style-theme-link').attr('href', $(this).val());
	});
	
	$('#transition-themes').change(function() {
		$('#transition-theme-link').attr('href', $(this).val());
	});

    $('pre').click(function (){
	$(this).toggleClass('highlighted');
    });
});
</script>

</body>
</html>
